<html><head>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    
    
    <meta name="monetization" content="$ilp.uphold.com/r3XrneeRrpQn">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <meta key="og:type" property="og:type" content="article">
    <meta key="og:url" property="og:url" content="//ayuu.github.io/forgetfulgod-js13k2020">
    <meta key="og:title" property="og:title" content="Forgetful God">
    <meta key="og:image" property="og:image" content="//ayuu.github.io/forgetfulgod-js13k2020/screenshots/combined%20skill%20level.png">
    <meta key="og:description" property="og:description" content="A Javascript Puzzle (Sokoban) Based Game">

    <title>Forgetful God</title>
    <meta name="apple-mobile-web-app-title" content="Forgetful God">
    <meta name="application-name" content="Forgetful God">
  <style>@keyframes blink{0%,50%{opacity:1}51%,to{opacity:0}}@font-face{font-family:emoji;src:url(https://ayuu.github.io/forgetfulgod-js13k2020/fonts/twemoji.ttf) format("truetype"),url(https://ayuu.github.io/forgetfulgod-js13k2020/fonts/twemoji.woff) format("woff"),url(https://ayuu.github.io/forgetfulgod-js13k2020/fonts/twemoji.woff2) format("woff2")}*{user-select:none;margin:0}body,html{margin:0;padding:0;font-family:emoji;overflow:hidden;height:100%;width:100%;background:#000}body{display:flex;align-items:center;justify-content:center}#tips.coil.visible,.ingame #scene *,.ingame #viewport{visibility:visible}#viewport{visibility:hidden;width:100%;height:100%;overflow:hidden;position:relative;perspective:500px;background:#000}#viewport *{transform-style:preserve-3d;box-sizing:border-box}#camera{width:0;height:0;position:absolute;top:50%;left:50%}#scene *{visibility:hidden}#scene{padding:0;display:block;background:#fff;transition:.5s linear}.gui.bar,pre.console{position:absolute;bottom:0}pre.console{left:0;top:0;right:0;color:#8fa;white-space:pre-wrap;font-size:2vmin;padding:1em}.mobile pre.console{font-size:4vmin}.gui{z-index:101;display:none;height:6vmin;width:100vw}.mobile .gui{height:10vmin}.gui.bar{background:#333;flex-direction:row;justify-content:space-evenly;padding:2.5vmin 0}.gui.controls{position:fixed;bottom:15vmin}.gui.controls div{position:absolute;font-size:4vmin}.mobile .gui.controls div{font-size:8vmin}.gui.controls .keyl{bottom:2vmin;right:26vmin}.gui.controls .keyr{bottom:2vmin;right:2vmin}.gui.controls .keyu{bottom:14vmin;right:14vmin}.gui.controls .keyd{bottom:2vmin;right:14vmin}.ingame .gui div{width:4vmin}.mobile.ingame .gui div{width:8vmin}#scene,#soundbtn{font-family:emoji}.gui div:hover{cursor:pointer}.mobile .gui div{font-size:4vmin;line-height:8vmin}.gui div{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;padding:1vmin;border-radius:1vmin;color:#fff;text-align:center;transition:all .2s;border:.1em solid #fff;font-size:3vmin;line-height:3vmin}#console,.console{overflow:hidden;max-height:0;height:fit-content;transition:max-height .5s linear;opacity:1;background:#000;z-index:100;visibility:hidden}.ingame #console{opacity:.5}#console.visible{max-height:75vh;visibility:visible}#console::after{content:" ";display:inline-block;background:#8fa;animation:blink 1s linear infinite}#fog,#tips{position:absolute}#fog{width:100vw;height:100vh;top:0;left:0;background-image:radial-gradient(circle,transparent,#000 25%);z-index:97}#fog.coil{background-image:radial-gradient(circle,transparent,#000 100%)}#tips{top:2vmin;right:2vmin;visibility:hidden;z-index:98;padding:2vmin;background-color:#f8f5de;background-image:linear-gradient(to right,rgba(255,210,0,.4),rgba(200,160,0,.1) 11%,transparent 35%,rgba(200,160,0,.1) 65%);box-shadow:inset 0 0 75px rgba(255,210,0,.3),inset 0 0 20px rgba(255,210,0,.4),inset 0 0 30px rgba(220,120,0,.8);color:rgba(0,0,0,.5);line-height:1.8;display:flex;flex-direction:column;align-items:center;font-size:4vmin;font-weight:700;line-height:4vmin;max-height:25vmin;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:#786600 black;scroll-behavior:smooth}#tips::-webkit-scrollbar{background-color:#000;width:8px}#tips::-webkit-scrollbar-track{background-color:#000}#tips::-webkit-scrollbar-thumb{background-color:#786600;border:2px solid #000}#tips::-webkit-scrollbar-button{display:none}#tips div{height:4vmin;display:inline-flex;margin:1vmin}#tips div .color{height:2vmin;width:2vmin;border-radius:.1vmin;border:.1vmin solid #000}#overlay{position:fixed;width:80vmin;height:80vmin;margin:auto;opacity:.75;background-color:#000;z-index:98;visibility:hidden;border-radius:2vmin;color:#fff;font-size:4vmin;line-height:6vmin;padding:2vmin;text-align:center}#overlay.visible{visibility:visible}.group,.plane,.sprite{transition:.1s linear}.triangle{clip-path:polygon(50% 0,100% 100%,0 100%)}.triangle-bottom{clip-path:polygon(0 0,100% 0,50% 100%)}.triangle-left{clip-path:polygon(0 50%,100% 0,100% 100%)}.triangle-right{clip-path:polygon(0 0,100% 50%,0 100%)}.triangle-top-left{clip-path:polygon(0 0,100% 0,0 100%)}.triangle-top-right{clip-path:polygon(0 0,100% 0,100% 100%)}.triangle-bottom-left{clip-path:polygon(0 0,100% 100%,0 100%)}.triangle-bottom-right{clip-path:polygon(100% 0,100% 100%,0 100%)}.circle{border-radius:50%;border:0}.origin-top{transform-origin:top center}.floor{background:#9b7653;background:linear-gradient(to bottom,#9b7653 0%,#8c6744 100%);z-index:-1;border-radius:5%}.plane .inner{box-shadow:none!important}.cube .back,.cube .front,.cube .left,.cube .right,.plane .inner,.pyramid .left,.pyramid .right{filter:brightness(65%)}.d{opacity:.85}.pyramid.d::after,.sphere.d::after{box-shadow:3vmin 3vmin 1vmin 4vmin #fff}.d::after{box-shadow:3vmin 2vmin 1vmin 4vmin #fff}.exit::after{box-shadow:3vmin 2vmin 1vmin 4vmin #0071db}.d::after,.exit::after{content:"";border-radius:50%;position:absolute;transform:translateZ(-1vmin);z-index:-1}</style></head>

  <body>
    <pre class="console" id="console"></pre>
    <div id="viewport">
      <div id="camera">
        <div id="scene"></div>
      </div>
    </div>
    <div id="gctrl" class="gui controls"></div>
    <div id="gbar" class="gui bar"></div>
    
    
    <div id="fog"></div>
    <div id="tips"></div>
    <div id="overlay">
      <div>Tips &#x1F4A1;</div>
      <div style="margin: 1vmin 0;">Generate new form:</div>
      <div>Rectangle + Pyramid = Cube</div>
      <div>Sphere + Pyramid = Cone</div>
      <div>Sphere + Rectangle = Curved Rectangle</div>
      <div>Sphere + Cube = Curved Cube</div>
      <div style="margin: 1vmin 0;">No new form:</div>
      <div>Cube + Rectangle or Pyramid</div>
      <div>Cone + Sphere or Pyramid</div>
      <div>Curved Rectangle + Sphere or Rectangle</div>
      <div>Curved Cube + Sphere or Cube</div>
    </div>
    
    
    
    
    
    
    
    
    
    
    
    <script>((o,e,t,r,n,a,v,c,f,u,m)=>{function g(s){this.gxy=(i,o)=>this.g({x:i,y:o}),this.g=i=>this.m[this.c(i)],this.i=i=>this.m[i],this.cxy=(i,o)=>this.c({x:i,y:o}),this.c=({x:i,y:o})=>i+o*this.l,this.init=()=>{for(scene.innerHTML="",C.sprites=[],C.sprite_count=0,C.plane_count=0,C.cube_count=0,C.pyramid_count=0,C.plane({x:(this.l-1)*D/2,y:(this.l-1)*D/2,z:-2,w:this.l*D*2,h:this.l*D*2,css:"floor"}),this.wm=o(this.l),i=0;i<this.l;i++)this.wm[i]=o(this.l);this.m.forEach((i,o)=>{const t=(""+i).split("-");let s=i,d=0,r=void 0;(""+i).includes("#")&&([s,r]=t,d=s.endsWith("d"),d&&(s=s.substr(0,s.length-1)));let[n,a]=[o%this.l,e.floor(o/this.l)];this.wm[a][n]=s===CELL.wall?-1:0,this.createNode({x:n,y:a},s,d,r)}),this.buildWall(),Coil.updateCheatSheet(this.m)},this.buildWall=()=>{let e=o(this.l);for(i=0;i<this.l;i++)e[i]=o(this.l);for(ws=0,i=0;i<this.l;i++)for(j=0;j<this.l;j++)if(!e[j][i]&&this.wm[j][i]){for(cc=cr=0,k=i+1;k<this.l&&-1===this.wm[j][k];k++,cr++);for(l=j+1;l<this.l&&-1===this.wm[l][i];l++,cc++);if(ws++,w=d=h=D,cc>cr){for(k=j;k<l;k++)this.wm[k][i]=ws,e[k][i]=1;[x,y]=[i*D,(j+(l-j-1)/2)*D],d=(l-j)*D}else{for(l=i;l<k;l++)this.wm[j][l]=ws,e[j][l]=1;[x,y]=[(i+(k-i-1)/2)*D,j*D],w=(k-i)*D}C.cube({y,x,w,d,h,r:0,css:"cube wall",b:"#b22222"})}},this.createNode=({x:i,y:o},e,t,s)=>{[x,y]=[i*D,o*D];let d=this.cxy(i,o),r=+e;switch(r){case CELL.exit:C.cube({y,x,w:D/2,d:D/2,h:D/2,css:"exit",b:"#ff6"});break;case CELL.player:this.m[d]=0;const e=C.sprite({y,x,w:D,h:D,d:D,html:"\u{1f5b2}",css:"char"});this.playerStartPosition={n:e,x:i,y:o,rz:0};break;default:let n=t?"d":"";switch(r){case CELL.hole:this.m[d]=[C.sprite({y,x,w:D,h:D,d:D,html:"\u{1f573}",css:"hole"}),r,s,t];break;case CELL.sphere:this.m[d]=[C.sphere({y,x,w:U,d:U,h:U,b:s,css:n+" sphere"}),r,s,t];break;case CELL.rect:this.m[d]=[C.cube({y,x,w:U,d:.5*U,h:.5*U,b:s,css:n+" cube",r:0}),r,s,t];break;case CELL.rrect:this.m[d]=[C.cube({y,x,w:U,d:.5*U,h:.5*U,b:s,css:n+" cube",r:2}),r,s,t];break;case CELL.pyramid:this.m[d]=[C.pyramid({y,x,w:U,d:U,h:U,css:n+" pyramid",b:s,r:0}),r,s,t];break;case CELL.cone:this.m[d]=[C.pyramid({y,x,w:U,d:U,h:U,css:n+" pyramid",b:s,r:40}),r,s,t];break;case CELL.cube:this.m[d]=[C.cube({y,x,w:U,d:U,h:U,b:s,css:n+" cube",r:0}),r,s,t];break;case CELL.rcube:this.m[d]=[C.cube({y,x,w:U,d:U,h:U,b:s,css:n+" cube",r:2}),r,s,t]}}},this.canInteract=(i,o)=>{var e,s;if([-1,-9].includes(this.g(o))||[-1,-8].includes(this.g(i)))return 0;let[[d,r,n],[a,v,l,c]]=[this.g(i),this.g(o)];return e=this,s=0,r===v?(n===l||n!==l&&!c)&&(t(()=>{e.m[e.c(i)]=0,c?(Sounds.destroy(),[C.$(d),C.$(a)].forEach(i=>i&&i.parentNode.removeChild(i)),e.m[e.c(o)]=0):(Sounds.merge(),[C.$(d),C.$(a)].forEach(i=>i&&i.parentNode.removeChild(i)),e.createNode(o,v,c,addRGB(n,l))),Coil.updateCheatSheet(e.m)},100),s=1):c||(t(()=>{e.m[e.c(i)]=0,v===CELL.hole?(Sounds.destroy(),[C.$(d)].forEach(i=>i&&i.parentNode.removeChild(i))):(Sounds.merge(),[C.$(d),C.$(a)].forEach(i=>i&&i.parentNode.removeChild(i)),e.createNode(o,mergeGeo(r,v),c,addRGB(n,l))),Coil.updateCheatSheet(e.m)},100),s=1),s},this.move=(i,o)=>{let e=i.x,t=i.y,s=0;if(this.g(i)[3])return 0;switch(o){case"u":for(let o=t-1;o>=0;o--){let d={x:e,y:o},r=0===this.g(d);if(!r&&!this.canInteract(i,d))break;if(t=o,s=1,!r)break}break;case"d":for(let o=t+1;this.l>o;o++){let d={x:e,y:o},r=0===this.g(d);if(!r&&!this.canInteract(i,d))break;if(t=o,s=1,!r)break}break;case"r":for(let o=e+1;this.l>o;o++){let d={x:o,y:t},r=0===this.g(d);if(!r&&!this.canInteract(i,d))break;if(e=o,s=1,!r)break}break;case"l":for(let o=e-1;o>=0;o--){let d={x:o,y:t},r=0===this.g(d);if(!r&&!this.canInteract(i,d))break;if(e=o,s=1,!r)break}}if(s){Sounds.pushed();const o=this.g(i);return 0===this.gxy(e,t)&&(this.m[this.c(i)]=0,this.m[this.cxy(e,t)]=o),C.move({n:o[0],x:e*D,y:t*D}),1}return 0},this.m=s,this.l=e.floor(e.sqrt(s.length)),this.init()}function b(i){this.init=()=>{if(ei.innerHTML=i,ei.classList.add("visible"),gctrl.style.display="none",gbar.style.display="none",B&&0===s){gctrl.style.display="none",gbar.style.display="flex",gbar.innerHTML="";const i=r.createElement("div");i.innerHTML="New Game",i.onclick=this.startNewGame;const o=r.createElement("div");o.innerHTML="Continue",o.onclick=this.resumeGame,gbar.appendChild(i),gbar.appendChild(o)}},this.startGame=()=>{s=1,oi[O].init(),Sounds.background()},this.startNewGame=()=>{level=0,this.startGame()},this.resumeGame=()=>{level=(()=>{const i=a.parse(v.getItem(W)||"{}");return i.level&&i.level<maps.length||(i.level=0,Z(i)),i.level})(),this.startGame()},this.proccesKeyUp=i=>{2!==s&&("enter"==i?this.startNewGame():"KeyC"===i&&this.resumeGame())}}zzfx=(...i)=>zzfxP(zzfxG(...i)),zzfxP=(...i)=>{let o=zzfxX.createBufferSource(),e=zzfxX.createBuffer(i.length,i[0].length,zzfxR);return i.map((i,o)=>e.getChannelData(o).set(i)),o.buffer=e,o.connect(zzfxX.destination),o.start(),o},zzfxPLoop=(...i)=>{let o=zzfxX.createBufferSource(),e=zzfxX.createBuffer(i.length,i[0].length,zzfxR);return i.map((i,o)=>e.getChannelData(o).set(i)),o.buffer=e,o.loop=1,o.connect(zzfxX.destination),o.start(),o},zzfxG=(i=1,o=.05,t=220,s=0,d=0,r=.1,n=0,a=1,v=0,l=0,c=0,h=0,f=0,u=0,m=0,g=0,b=0,y=1,p=0,C=zzfxR,x=99+s*C,z=d*C,w=r*C,L=p*C,$=b*C,k=2*e.PI,E=(i=>i>0?1:-1),S=x+L+z+w+$,G=(v*=500*k/C**2),M=(t*=(1+2*o*e.random()-o)*k/C),P=E(m)*k/4,T=0,R=0,X=0,j=0,_=0,H=0,A=1,Z=[])=>{for(;S>X;Z[X++]=H)++_>100*g&&(_=0,H=T*t*e.sin(R*m*k/C-P),H=E(H=n?n>1?n>2?n>3?e.sin((H%k)**3):e.max(e.min(e.tan(H),1),-1):1-(2*H/k%2+2)%2:1-4*e.abs(e.round(H/k)-H/k):e.sin(H))*e.abs(H)**a*i*zzfxV*(x>X?X/x:x+L>X?1-(X-x)/L*(1-y):x+L+z>X?y:S-$>X?(S-X-$)/w*y:0),H=$?H/2+($>X?0:(S-$>X?1:(X-S)/$)*Z[X-$|0]/2):H),T+=1-u+1e9*(e.sin(X)+1)%2*u,R+=1-u+1e9*(e.sin(X)**2+1)%2*u,t+=v+=500*l*k/C**3,A&&++A>h*C&&(t+=c*k/C,M+=c*k/C,A=0),f&&++j>f*C&&(t=M,v=G,j=1,A=A||1);return Z},
//! ZzFXM (v2.0.2) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM
zzfxM=(i,o,e,t=125)=>{let s,d,r,n,a,v,l,c,h,f,u,m,g,b,y,p,C=[],x=[],z=[],w=0,L=1,$={},k=zzfxR/t*60>>2;for(;L;w++)C=[L=c=u=g=0],e.map((t,u)=>{for(l=o[t][w]||[0,0,0],L|=!!o[t][w],y=g+(o[t][0].length-2-!c)*k,d=2,n=g;l.length+(u==e.length-1)>d;c=++d){for(a=l[d],h=f!=(l[0]||0)|a|0,r=0;k>r&&c;r++>k-99&&h?m+=(1>m)/99:0)v=(1-m)*C[b++]/2||0,x[n]=(x[n]||0)+v*p-v,z[n]=(z[n++]||0)+v*p+v;a&&(m=a%1,p=l[1]||0,(a|=0)&&(C=$[[f=l[b=0]||0,a]]=$[[f,a]]||(s=[...i[f]],s[2]*=2**((a-12)/12),zzfxG(...s))))}g=y});return[x,z]},zzfxV=.1,zzfxR=44100,zzfxX=new(top.AudioContext||webkitAudioContext);const p=[zzfxG(void 0,void 0,400,.03,.08,.23,void 0,1.93,5.8,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,.57,.04),zzfxG(void 0,void 0,211,void 0,.07,.24,void 0,1.11,4.6,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,.97,.02)],z=[[[3,0,24,void 0,.2,.3,void 0,10],[1,0,216,void 0,void 0,.45,1,4,void 0,void 0,50],[.75,0,196,void 0,.08,.18,3],[,0,84,void 0,void 0,.1,void 0,.7,void 0,void 0,void 0,.5,void 0,6.7,1,.05],[,0,2200,void 0,void 0,.04,3,2,void 0,void 0,800,.02,void 0,4.8,void 0,.01,.1],[.8,0,2100,void 0,void 0,.3,3,3,void 0,void 0,-400,void 0,void 0,2]],[[[5,0,15,0,0,0,15,0,0,0,15,0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,0,0,0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0],[4,0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,void 0,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15],[3,0,38,38,0,void 0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0]],[[5,0,15,0,0,0,15,0,0,0,15,0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,0,0,0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0],[4,0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,void 0,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15],[3,0,38,38,0,void 0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0],[0,0,38,40,0,0,38,40,0,0,41,0,41,0,41,0,41,0,38,40,0,0,38,40,0,0,41,0,41,0,41,0,41,0,38,40,void 0,void 0,38,40,void 0,void 0,41,void 0,41,void 0,41,void 0,41,void 0,38,40,void 0,void 0,38,40,void 0,void 0,41,void 0,41,void 0,41,void 0,41]],[[5,0,15,0,0,0,15,0,0,0,15,0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,0,0,0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0,void 0,15,void 0,void 0],[4,0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,void 0,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15,void 0,15],[3,0,38,38,0,void 0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0,0,38,38,0,0,38,38,0,0,0,0,0,0,0,0,0],[0,0,38,40,41,void 0,43,43,void 0,void 0,38,40,41,void 0,43,43,void 0,void 0,38,40,41,void 0,43,0,43,void 0,43,45,43,45,43,0,43,void 0,38,40,41,0,43,43,0,void 0,38,40,41,void 0,43,43,0,void 0,38,40,41,0,43,void 0,43,void 0,43,45,43,45,43,void 0,43]]],[0,1,2,2,1],90],L=zzfxM(...z),$=[[[3,0,24,void 0,.2,.3,void 0,10],[1,0,216,void 0,void 0,.45,1,4,void 0,void 0,50]],[[[1,0,52,55,57,0]]],[0],125],E=zzfxM(...$),S=zzfxG(void 0,void 0,93,.24,.01,.55,void 0,1.92,void 0,void 0,242,.02,.04,void 0,void 0,void 0,void 0,.87,.06),G=zzfxG(void 0,void 0,791,.02,.03,.17,1,.82,-8.9,void 0,void 0,void 0,void 0,.3,void 0,.1,void 0,.81,.04),M=zzfxG(void 0,void 0,249,void 0,void 0,.34,4,2.33,void 0,2,void 0,void 0,void 0,1.4,.1,.2,void 0,.66,.1),P=zzfxG(void 0,void 0,723,void 0,.08,.2,2,.48,void 0,void 0,630,.03,.02,void 0,void 0,void 0,.01,.91,.08),T=zzfxG(2,void 0,91,.02,void 0,.43,1,.23,-.7,-.1,void 0,void 0,void 0,void 0,.7,.1,.1,.54,.02);let R=0,X=1,_=0,H=0;Sounds={move(i){i?X&&zzfxP(T):_||(_=1,H++,H==p.length&&(H=0),X&&zzfxP(p[H]),t(()=>{_=0},400))},background(){s===O&&(R?bgSound&&(bgSound.stop(),R=0):X&&(bgSound=zzfxPLoop(...L),R=1))},destroy:()=>X&&zzfxP(M),merge:()=>X&&zzfxP(P),pushed:()=>X&&zzfxP(G),winGame:()=>X&&zzfxP(S),win:()=>X&&zzfxP(...E)},sendSoundToOS13k=i=>{c.keys(i).forEach(o=>{v[`OS13kMusic,Forgetful God (${o})`]=a.stringify(i[o])})},sendSoundToOS13k({win:$,background:z});const A=(i,o,t,s)=>{let d,r,n,a,v,l,c,h=f,u=e.round,m="string"==typeof t;return"number"!=typeof i||-1>i||i>1||"string"!=typeof o||"r"!=o[0]&&"#"!=o[0]||t&&!m?null:(this.pSBCr||(this.pSBCr=i=>{let o=i.length,e={};if(o>9){if([d,r,n,m]=i=i.split(","),o=i.length,3>o||o>4)return null;e.r=h(d.slice("a"==d[3]?5:4)),e.g=h(r),e.b=h(n),e.a=m?parseFloat(m):-1}else{if(8==o||6==o||4>o)return null;6>o&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]+(o>4?i[4]+i[4]:"")),i=h(i.slice(1),16),9==o||5==o?(e.r=i>>24&255,e.g=i>>16&255,e.b=i>>8&255,e.a=u((255&i)/.255)/1e3):(e.r=i>>16,e.g=i>>8&255,e.b=255&i,e.a=-1)}return e}),c=o.length>9,c=m?t.length>9?1:"c"==t?!c:0:c,v=this.pSBCr(o),a=0>i,l=t&&"c"!=t?this.pSBCr(t):a?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},a=1-(i=a?-1*i:i),v&&l?(s?(d=u(a*v.r+i*l.r),r=u(a*v.g+i*l.g),n=u(a*v.b+i*l.b)):(d=u((a*v.r**2+i*l.r**2)**.5),r=u((a*v.g**2+i*l.g**2)**.5),n=u((a*v.b**2+i*l.b**2)**.5)),m=v.a,l=l.a,v=m>=0||l>=0,m=v?0>m?l:0>l?m:m*a+l*i:0,c?"rgb"+(v?"a(":"(")+d+","+r+","+n+(v?","+u(1e3*m)/1e3:"")+")":"#"+(4294967296+16777216*d+65536*r+256*n+(v?u(255*m):0)).toString(16).slice(1,v?void 0:-2)):null)},Z=i=>v.setItem(W,a.stringify(i||{level})),B=["mobi","android","ios"].some(i=>u.navigator.userAgent.toLowerCase().includes(i)),I=(i,o,e,t,s)=>{const d=r.createElement("div");d.innerHTML=i,s&&(d.id=s),o&&d.classList.add(o),d.onclick=e,t.appendChild(d)},N=()=>X?"\u{1f509}":"\u{1f507}";isValidPosition=(i,{x:o,y:e})=>o>=0&&i.l>o&&e>=0&&i.l>e,mergeGeo=(i,o)=>{const t=e=>i===e||o===e;return i===o?i:t(CELL.rcube)?CELL.rcube:t(CELL.rrect)&&(t(CELL.rect)||t(CELL.sphere))?CELL.rrect:t(CELL.cone)&&(t(CELL.pyramid)||t(CELL.sphere))?CELL.cone:t(CELL.cube)&&(t(CELL.pyramid)||t(CELL.rect))?CELL.cube:e.min(i*o,CELL.rcube)};const Y=i=>f(i,16),K=i=>1===i.length?`${i}${i}`:i;addRGB=(i,o)=>{var e=i.match(5>i.length?/[\da-z]{1}/gi:/[\da-z]{2}/gi),t=o.match(5>o.length?/[\da-z]{1}/gi:/[\da-z]{2}/gi);return"#"+e.map((i,o)=>(255*(Y(K(i))/255+Y(K(t[o]))/255)>>1).toString(16).padStart(2,0)).join("")},C={unit:"vmin",camX:0,camY:0,camZ:0,camRX:0,camRY:0,camRZ:0,sprites:[],sprite_count:0,plane_count:0,circle_count:0,cube_count:0,sphere_count:0,pyramid_count:0,options:{},$:i=>self[i],set_unit:i=>C.unit=i,set_perspective:i=>viewport.style.perspective=`${i}${C.unit}`,init(i){i.css||(i.css=""),i.html||(i.html=""),i.g||(i.g="scene"),i.o||(i.o="center"),"top left"==i.o&&(i.x+=i.w/2,i.y+=i.h/2),"top"==i.o&&(i.y+=i.h/2),"top right"==i.o&&(i.x-=i.w/2,i.y+=i.h/2),"right"==i.o&&(i.x-=i.w/2),"bottom right"==i.o&&(i.x-=i.w/2,i.y-=i.h/2),"bottom"==i.o&&(i.y-=i.h/2),"bottom left"==i.o&&(i.x+=i.w/2,i.y-=i.h/2),"left"==i.o&&(i.x+=i.w/2),i.w||(i.w=0),i.h||(i.h=0),i.x||(i.x=0),i.y||(i.y=0),i.z||(i.z=0),i.rx||(i.rx=0),i.ry||(i.ry=0),i.rz||(i.rz=0),i.sx||(i.sx=1),i.sy||(i.sy=1),i.sz||(i.sz=1),C.options[i.n]=i},group(i){i.d||0===i.d||(i.d=i.h),C.init(i),C.$(i.g).innerHTML+=`<div id="${i.n}"class="group ${i.css}"style="position:absolute;width:${i.w}${C.unit};height:${i.d}${C.unit};transform:${C.tr(i)}">`},plane(i){const o=`box-shadow: inset 0 0 ${i.r}${C.unit} ${A(-.6,i.b)};border-radius: ${i.r}${C.unit};`;return i.n||(i.n="plane"+C.plane_count++),C.init(i),C.$(i.g).innerHTML+=`<div id="${i.n}"class="plane ${i.css}"style="${o}position:absolute;width:${i.w}${C.unit};height:${i.h}${C.unit};background:${i.b};transform-origin:${i.o};transform:${C.tr(i)}">${i.html}`,i.n},circle:i=>(i.n||(i.n="circle"+C.circle_count++),C.init(i),C.$(i.g).innerHTML+=`<div id="${i.n}"class="circle ${i.css}"style="position:absolute;width:${i.w}${C.unit};height:${i.h}${C.unit};background: radial-gradient(circle at ${i.h/2}${C.unit} ${i.h/2}${C.unit}, ${i.b}, ${A(-.6,i.b)});transform-origin:${i.o};transform:${C.tr(i)}">${i.html}`,i.n),sprite:i=>(i.n||(i.n="sprite"+C.sprite_count++),C.init(i),C.$(i.g).innerHTML+=`<div id="${i.n}"class="sprite ${i.css}"style="position:absolute;width:${i.w}${C.unit};font-size:${i.h}${C.unit};height:${i.h}${C.unit};background:${i.b};transform-origin:${i.o};transform:${C.tr(i)}">${i.html}`,C.sprites.push(i.n),i.n),sphere:i=>(i.n||(i.n="sphere"+C.sphere_count++),C.init(i),C.group(i),C.circle({g:i.n,x:i.w/2,y:i.d/2,d:i.d,w:i.w,h:i.h,b:i.b,css:"top"}),i.n),cube(i){i.n||(i.n="cube"+C.cube_count++),C.init(i),C.group(i);let o=i.r>0?.75:0;return C.plane({g:i.n,r:i.r,x:o,y:i.d/2,w:i.d-o,h:i.h-o,b:i.b,rx:-90,ry:-90,o:"bottom",css:"left"}),C.plane({g:i.n,r:i.r,x:i.w-o,y:i.d/2,w:i.d-o,h:i.h-o,b:i.b,rx:-90,ry:-90,o:"bottom",css:"right"}),C.plane({g:i.n,r:i.r,x:i.w/2,y:0,w:i.w-o,h:i.h-o,b:i.b,rx:-100,o:"bottom",css:"back"}),C.plane({g:i.n,r:i.r,x:i.w/2,y:i.d,w:i.w-o,h:i.h-o,b:i.b,rx:-80,o:"bottom",css:"front"}),C.plane({g:i.n,r:i.r,x:i.w/2,y:i.d/2,z:i.h,w:i.w,h:i.d,b:i.b,css:"top"}),i.n},pyramid:i=>(i.n||(i.n="pyramid"+C.pyramid_count++),C.init(i),C.group(i),C.plane({g:i.n,r:i.r,x:0,y:i.d/2,w:i.w,h:i.h,b:i.b,ry:-60,rz:90,css:"triangle left",o:"bottom"}),C.plane({g:i.n,r:i.r,x:i.w,y:i.d/2,w:i.w,h:i.h,b:i.b,ry:-120,rz:90,css:"triangle right",o:"bottom"}),C.plane({g:i.n,r:i.r,x:i.w/2,y:0,w:i.w,h:i.h,b:i.b,rx:-120,css:"triangle back",o:"bottom"}),C.plane({g:i.n,r:i.r,x:i.w/2,y:i.d,w:i.w,h:i.h,b:i.b,rx:-60,css:"triangle front",o:"bottom"}),i.n),camera(i){var o,t,s;for(o in i&&(i.x||0===i.x)&&(C.camX=i.x),i&&(i.y||0===i.y)&&(C.camY=i.y),i&&(i.z||0===i.z)&&(C.camZ=i.z),i&&(i.rx||0===i.rx)&&(C.camRX=i.rx),i&&(i.ry||0===i.ry)&&(C.camRY=i.ry),i&&(i.rz||0===i.rz)&&(C.camRZ=i.rz),C.camX+=(e.random()-.5)/1e3,scene.style.transformOrigin=`${C.camX}${C.unit} ${C.camY}${C.unit}`,scene.style.transform=`translateX(${-C.camX}${C.unit})translateY(${-C.camY}${C.unit})translateZ(${-C.camZ}${C.unit})rotateX(${C.camRX}deg)rotateY(${C.camRY}deg)rotateZ(${C.camRZ}deg)`,C.sprites)s=(t=C.$(C.sprites[o])).style.transform.replace(/ *rotate.*\(.*?deg\)/g,""),t.style.transform=s+`rotateZ(${-C.camRZ}deg)rotateX(${-C.camRX}deg)`},move(i){if(i.n){var o=C.$(i.n),e=C.options[i.n];(i.x||0===i.x)&&(e.x=i.x),(i.y||0===i.y)&&(e.y=i.y),(i.z||0===i.z)&&(e.z=i.z),(i.rx||0===i.rx)&&(e.rx=i.rx),(i.ry||0===i.ry)&&(e.ry=i.ry),(i.rz||0===i.rz)&&(e.rz=i.rz),C.options[i.n]=e,o.style.transform=C.tr(e)}},tr:i=>`translateX(-50%)translateY(-50%)translateX(${i.x}${C.unit})translateY(${i.y}${C.unit})translateZ(${i.z}${C.unit})rotateX(${i.rx}deg)rotateY(${i.ry}deg)rotateZ(${i.rz}deg)scaleX(${i.sx})scaleY(${i.sy})scaleZ(${i.sz})`},CELL={wall:-1,floor:0,sphere:2,rect:3,pyramid:5,rrect:6,cone:10,cube:15,rcube:30,hole:-8,exit:-9,player:1},Coil={initLevel(){fog.classList.remove(...fog.classList),r.monetization&&"started"===r.monetization.state&&(fog.classList.add("coil"),tips.classList.add("coil"))},updateCheatSheet(e){const t=e.filter(i=>o.isArray(i)&&i[2]&&!i[3]);if(tips.innerHTML="",t.length>1){const o=[...new Set(t.map(i=>i[2]))];if(1>=o.length)return tips.classList.remove("visible");tips.classList.add("visible");const e=i=>{const o=r.createElement("div");return o.classList.add("color"),o.style.background=i,o};for(i=0;i<o.length-1;i++)for(j=i+1;j<o.length;j++){const t=r.createElement("div");[e(o[i]),e(o[j]),e(addRGB(o[i],o[j]))].forEach((i,o)=>{if(t.appendChild(i),2>o){const i=r.createElement("span");i.innerHTML=0===o?"+":"=",t.appendChild(i)}}),tips.appendChild(t)}}else tips.classList.remove("visible")}},internalMaps=[[0,0,0,0,0,-1,-1,-1,-1,-1,-1,1,"2-#7fb3d5","2d-#7fb3d5",-9,-1,-1,-1,-1,-1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,1,"2-#7fb3d5",-8,-9,-1,-1,-1,0,0,0,-1,-1,-1,-1,-1,-1,-1],[0,0,-1,-1,-1,0,0,0,0,0,-1,-9,-1,0,0,0,-1,-1,-1,"2d-#7fb3d5",-1,-1,0,0,-1,0,0,"3-#7fb3d5",-8,-1,-1,-1,-1,0,-1,0,0,"2-#7fb3d5",0,-1,-1,0,0,1,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,0,0,0,-1,1,0,0,-1,0,0,0,-1,0,"3-#ff0000","3-#0000ff",-1,0,0,0,-1,-1,-1,"3d-#7f007f",-1,0,0,0,0,0,-1,-9,-1,0,0,0,0,0,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,0,0,0,0,0,0,-8,-1,0,-1,1,0,"2-#ff0000",0,-1,"2-#0000ff",0,-1,0,-1,-1,0,0,0,0,0,0,-1,0,0,-1,0,"2-#ffff00",0,0,"2-#00ffff",0,-1,0,0,-1,0,0,-1,0,-1,"2d-#7f7f7f",-1,0,0,-1,0,0,0,-8,-1,-9,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,0,-1,"3d-#138d75","5d-#7d3c98",0,"5-#7d3c98",0,-1,0,-1,-9,-1,-1,0,0,-1,0,-1,-1,-1,1,"3-#138d75",0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,-1,-1,-1,-1,0],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-8,0,0,0,0,1,-1,-1,0,"5-#0000ff",0,-1,"2-#ffffaa",0,-1,-1,0,0,0,0,0,0,-1,-1,0,-1,0,0,"3-#ffaaaa",0,-1,-1,"10d-#d47f55",0,"5-#aa0000","5-#a93226",0,0,-1,-1,-9,"15d-#7f55d4",0,0,-1,-8,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,0,-1,-9,-1,-1,0,-1,0,"2-#ff0000",0,"6d-#7f7f55",-1,-1,0,-1,0,0,0,"5-#aa0000",-1,-1,0,0,0,0,"2d-#aa5500",0,-1,-1,-1,0,"2-#aa5500",0,"6-#00ffaa",0,-1,-1,0,0,0,0,0,-8,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,0,0,0,-1,-1,-1,-1,0,-1,-1,-1,-1,0,1,-1,-1,-1,0,0,0,"2-#ffff00",0,-1,-9,"30d-#9f9f00","5-#7f0000",0,"3-#7dcea0",0,0,-1,-1,0,0,0,-1,"30-#f0b2fa",0,-1,-1,-1,0,0,0,"3-#007f00",0,-1,-1,0,0,0,0,-1,-8,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-9,"6d-#1abc9c","2d-#8e44ad",0,-1,-1,-1,-8,-1,-1,-1,-1,0,0,0,0,0,0,-1,-1,0,0,0,0,0,-1,0,0,-1,-1,0,0,0,0,-1,-1,"2-#1abc9c",0,-1,-1,0,0,-1,0,0,0,0,-1,-1,-1,0,"2-#8e44ad",-1,0,-1,"3-#1abc9c",0,0,-1,-1,0,0,0,0,0,0,-1,0,-1,-1,-1,-1,0,0,0,0,0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,0,0,0,0,0,-1,-1,-1,-1,-1,0,0,0,"2-#55aa00",0,-1,-1,-8,0,0,0,"15-#9b59b6",0,0,0,-1,-1,0,"3-#aa0000",0,0,-1,"5-#2980b9",0,0,-1,-1,0,0,0,0,0,0,-1,0,-1,-1,0,0,0,-1,"30-#9b59b6",0,0,0,-1,-1,0,-1,0,"5-#005500",0,-1,-1,-1,-1,-1,0,0,0,0,0,"5d-#2980b9","30d-#3f5500",-9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,-1,0,0,0,-1,-1,0,0,0,"2-#aaff00",0,-1,-1,-1,0,"2-#ffaa00",0,0,"2-#ff5500",-8,-1,-1,0,0,"2-#55aa00",-1,"2d-#ffaa00",-9,-1,-1,0,-1,0,0,0,"2d-#ff5500",-1,-1,0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-9,"30d-#78407a",0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,"3-#0000db",0,0,-1,-1,0,0,0,0,"10d-#eba118",0,0,-1,-1,-1,0,"2-#f1c40f",0,0,-1,0,0,-1,-1,-1,0,-1,-1,0,-1,-1,-1,0,-1,-1,0,"10-#f0801a",0,0,-1,0,0,0,-1,-1,0,0,"5-#e67e22",0,-1,0,"2-#8e44ad",0,-1,-1,0,0,0,0,"2d-#8e44ad",0,0,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-8,-1,-1,0,"2-#ff0000",0,"2-#ffff00",0,"2-#ff5500",-1,0,-1,-1,0,0,0,0,0,0,0,0,-1,-1,0,"2-#ff00ff",0,"2-#00ffff",0,"2-#ffffff",-1,0,-1,-1,0,0,0,0,0,0,0,1,-1,-1,0,"2-#0000ff",0,"2-#00ff00",0,"2-#aa00ff",-1,0,-1,-1,-1,0,0,0,0,0,0,0,-1,-1,-9,"2d-#bf6f9f",0,0,0,0,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]],maps={init:i=>new g([...internalMaps[i]]),length:internalMaps.length};const O=1,D=8,U=.8*D,W="X2pzMTNrMjAyMGZvcmdldGZ1bGdvZA==",V=[3,5,13],F={l:"\u21e6",u:"\u21e7",r:"\u21e8",d:"\u21e9"},q={keyr:"R",keyh:"H",backquote:"`"},J={2:["\u{1f9e9}","Puzzle Solver","Insert the correct missing piece"],3:["\u{1f3a8}","Painter","Adding color has no secrets"],5:["\u{1f4d0}\u{1f4cf}","Mathematics","Adding form has no secrets"],6:["\u{1f9e0}","Brainy","Can solve anything"]},Q="\n===\nControls:\nWASD / Arrows : Movement\nR : Restart level\nM : Mute Sound\nH : Help\n` : Toggle console\n===\n",ii=(i,o)=>{c.keys(i).forEach(e=>I(i[e],"key"+e,()=>m({code:e,_gui:1}),o))},oi=[new b(`\nWelcome back to your world!\n\nThe world we created last weekend doesn't seem right...\nA bunch of assets are missing... but fear not, they shouldn't be too far!\nPush the correct asset to the highlighted area to complete the scene!\n\n${Q}\n${B?"":"Press Enter to start a new game or C to continue . . ."}`),new function(){this.init=i=>{!i&&V.includes(level)?toggleConsole():ei.classList.remove("visible"),r.body.classList.add("ingame"),this.loaded=0,this.initLevel(),this.initGUI(),this.loaded=1},this.initGUI=()=>{gctrl.style.display="flex",gctrl.innerHTML="",ii(F,gctrl),gbar.style.display="flex",gbar.innerHTML="",I(N(),"keym",()=>m({code:"keym",_gui:1}),gbar,"soundbtn"),ii(q,gbar)},this.initLevel=()=>{Coil.initLevel(),this.map=maps.init(level),this.position=this.position2d=this.map.playerStartPosition,this.v={d:1},this.updatePosition(this.position2d)},this.updatePosition=i=>{this.position2d=i;const[o,e]=[i.x*D,i.y*D];this.position={...this.position,x:o,y:e,rz:i.rz},this.cameraPosition={x:o,y:e,z:40},C.camera(this.cameraPosition)},this.rotate=i=>{Sounds.move(1),this.position2d.rz=this.position.rz=i.rz,C.move(this.position)},this.move=i=>{Sounds.move(0),this.updatePosition(i),C.move(this.position)},this.proccesKeyUp=i=>{const o={...this.position2d};switch(i){case"u":o.y-=1,!this.v.u&&(o.rz=this.v.d?180:this.v.l?o.rz+90:o.rz-90);break;case"d":o.y+=1,!this.v.d&&(o.rz=this.v.u?0:this.v.r?o.rz+90:o.rz-90);break;case"r":o.x+=1,!this.v.r&&(o.rz=this.v.l?-90:this.v.u?o.rz+90:o.rz-90);break;case"l":o.x-=1,!this.v.l&&(o.rz=this.v.r?90:this.v.d?o.rz+90:o.rz-90)}if("lrdu".includes(i)&&(this.v={[i]:1},ei.classList.remove("visible")),o.x!==this.position2d.x||o.y!==this.position2d.y){if(!isValidPosition(this.map,o))return void this.rotate(o);switch(cs=this.map.g(o)){case CELL.wall:return void this.rotate(o);case CELL.exit:const e=J[level];if(e){const[i,o,t]=e;v[`OS13kTrophy,${i},Forgetful God,${o}`]=t}level++,Z(),level<maps.length?(Sounds.win(),this.init()):(Sounds.background(),r.body.classList.remove("ingame"),Sounds.winGame(),t(()=>{ei.classList.add("visible"),s=2,oi[s].init()},500));break;case CELL.floor:this.move(o);break;default:this.map.move(o,i)?this.move(o):this.rotate(o)}}},this.console=()=>{let i=`Current level: ${level}\nTIPS:\n- Push the assets to the highlighted area`;return level>1&&(i+="\n- Merging assets with different colors will add the colors together"),level>3&&(i+="\n- Merging assets with different form will form a new form"),level>12&&(i+="\n- Color mixing are subject to order (experiment and find the right order!)"),i}},new b("\nThe world is now ready to receive the alien...\nGo back to your heaven and watch them evolve through the century!\n\nThanks for playing!")],ei=r.getElementById("console");s=0;const ti={},si={};si.ArrowUp=si.KeyW=si.KeyZ="u",si.ArrowDown=si.KeyS="d",si.ArrowLeft=si.KeyQ=si.KeyA="l",si.ArrowRight=si.KeyD="r",si.Enter=si.NumpadEnter="enter",toggleConsole=()=>{ei.innerHTML=`${Q}\n${oi[s].console?oi[s].console():""}`,ei.classList.toggle("visible")},onkeyup=({code:i})=>ti[i]=0,onkeypress=m=i=>{const o=i.code;if(i._gui||!ti[o]){if(ti[o]=!i._gui,"F5"===o)return u.location.reload();switch(o.toLowerCase()){case"backquote":return overlay.classList.contains("visible")&&overlay.classList.toggle("visible"),s===O&&toggleConsole();case"keyh":if(s!==O)return;return ei.classList.contains("visible")&&toggleConsole(),overlay.classList.toggle("visible");case"keym":zzfxV=0;const e=r.getElementById("soundbtn");return X=!X,e&&(e.innerHTML=N()),Sounds.background();case"keyr":return i.ctrlKey&&i.preventDefault(),oi[s].init(1);default:return oi[s].proccesKeyUp(si[o]||o)}}},B&&r.body.classList.add("mobile"),oi[s].init()})(Array,Math,setTimeout,document,onclick,JSON,localStorage,Object,parseInt,window,onkeydown);</script>
  

</body></html>