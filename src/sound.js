const move = [zzfxG(...[undefined, undefined, 400, 0.03, 0.08, 0.23, undefined, 1.93, 5.8, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, 0.57, 0.04]), zzfxG(...[undefined, undefined, 211, undefined, 0.07, 0.24, undefined, 1.11, 4.6, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, 0.97, 0.02])]

const bgs = [
  [
    [3, 0, 24, undefined, 0.2, 0.3, undefined, 10],
    [1, 0, 216, undefined, undefined, 0.45, 1, 4, undefined, undefined, 50],
    [0.75, 0, 196, undefined, 0.08, 0.18, 3],
    [, 0, 84, undefined, undefined, 0.1, undefined, 0.7, undefined, undefined, undefined, 0.5, undefined, 6.7, 1, 0.05],
    [, 0, 2200, undefined, undefined, 0.04, 3, 2, undefined, undefined, 800, 0.02, undefined, 4.8, undefined, 0.01, 0.1],
    [0.8, 0, 2100, undefined, undefined, 0.3, 3, 3, undefined, undefined, -400, undefined, undefined, 2]
  ],
  [
    [
      [5, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 0, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, 0, 0, 0, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined],
      [4, 0, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, undefined, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15],
      [3, 0, 38, 38, 0, undefined, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    ],
    [
      [5, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 0, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, 0, 0, 0, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined],
      [4, 0, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, undefined, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15],
      [3, 0, 38, 38, 0, undefined, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 38, 40, 0, 0, 38, 40, 0, 0, 41, 0, 41, 0, 41, 0, 41, 0, 38, 40, 0, 0, 38, 40, 0, 0, 41, 0, 41, 0, 41, 0, 41, 0, 38, 40, undefined, undefined, 38, 40, undefined, undefined, 41, undefined, 41, undefined, 41, undefined, 41, undefined, 38, 40, undefined, undefined, 38, 40, undefined, undefined, 41, undefined, 41, undefined, 41, undefined, 41]
    ],
    [
      [5, 0, 15, 0, 0, 0, 15, 0, 0, 0, 15, 0, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, 0, 0, 0, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined, undefined, 15, undefined, undefined],
      [4, 0, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, undefined, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15, undefined, 15],
      [3, 0, 38, 38, 0, undefined, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 38, 38, 0, 0, 38, 38, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [0, 0, 38, 40, 41, undefined, 43, 43, undefined, undefined, 38, 40, 41, undefined, 43, 43, undefined, undefined, 38, 40, 41, undefined, 43, 0, 43, undefined, 43, 45, 43, 45, 43, 0, 43, undefined, 38, 40, 41, 0, 43, 43, 0, undefined, 38, 40, 41, undefined, 43, 43, 0, undefined, 38, 40, 41, 0, 43, undefined, 43, undefined, 43, 45, 43, 45, 43, undefined, 43]
    ]
  ],
  [0, 1, 2, 2, 1],
  90
]
const backgroundSound = zzfxM(...bgs)
const wls = [
  [
    [3, 0, 24, undefined, 0.2, 0.3, undefined, 10],
    [1, 0, 216, undefined, undefined, 0.45, 1, 4, undefined, undefined, 50]
  ],
  [[[1, 0, 52, 55, 57, 0]]],
  [0],
  125
]
const winLevel = zzfxM(...wls)
const winGame = zzfxG(...[undefined, undefined, 93, 0.24, 0.01, 0.55, undefined, 1.92, undefined, undefined, 242, 0.02, 0.04, undefined, undefined, undefined, undefined, 0.87, 0.06])
const pushed = zzfxG(...[undefined, undefined, 791, 0.02, 0.03, 0.17, 1, 0.82, -8.9, undefined, undefined, undefined, undefined, 0.3, undefined, 0.1, undefined, 0.81, 0.04])
const destroy = zzfxG(...[undefined, undefined, 249, undefined, undefined, 0.34, 4, 2.33, undefined, 2, undefined, undefined, undefined, 1.4, 0.1, 0.2, undefined, 0.66, 0.1])
const merge = zzfxG(...[undefined, undefined, 723, undefined, 0.08, 0.2, 2, 0.48, undefined, undefined, 630, 0.03, 0.02, undefined, undefined, undefined, 0.01, 0.91, 0.08])
const errorMove = zzfxG(...[2, undefined, 91, 0.02, undefined, 0.43, 1, 0.23, -0.7, -0.1, undefined, undefined, undefined, undefined, 0.7, 0.1, 0.1, 0.54, 0.02])

let bgPlay = false
let sound = true
let movePlaying = false
let moveIndex = 0

Sounds = {
  move(error) {
    if (error) {
      if (sound) zzfxP(errorMove)
    } else if (!movePlaying) {
      movePlaying = true
      moveIndex++
      if (moveIndex == move.length) moveIndex = 0
      if (sound) zzfxP(move[moveIndex])
      setTimeout(() => {
        movePlaying = false
      }, 400)
    }
  },
  background() {
    if (s !== GAME_SCREEN) return
    if (!bgPlay) sound && ((bgSound = zzfxPLoop(...backgroundSound)), (bgPlay = true))
    else bgSound && (bgSound.stop(), (bgPlay = false))
  },
  destroy: () => sound && zzfxP(destroy),
  merge: () => sound && zzfxP(merge),
  pushed: () => sound && zzfxP(pushed),
  winGame: () => sound && zzfxP(winGame),
  win: () => sound && zzfxP(...winLevel)
}

sendSoundToOS13k = sounds => {
  Object.keys(sounds).forEach(key => {
    localStorage[`OS13kMusic,Forgetful God (${key})`] = JSON.stringify(sounds[key])
  })
}
sendSoundToOS13k({ win: wls, background: bgs })
